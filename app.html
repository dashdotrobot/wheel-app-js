<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

  <link rel="stylesheet" href="styles.css">

  <title>Bicycle Wheel Designer</title>
</head>
<body>

<div class="container">
  <h3>Bicycle wheel app</h3>
  <div class="row">
    <div class="col-md-4">

      <!-- Toolbar Navigation Tabs -->
      <ul class="nav nav-tabs nav-tabs" id="toolsTab" role="tablist">
        <li class="nav-item">
          <a class="nav-link p-1 active" id="tabRim" data-toggle="tab" href="#panelRim" role="tab" aria-controls="panelRim" aria-selected="true">Rim</a>
        </li>
        <li class="nav-item">
          <a class="nav-link p-1" id="tabHub" data-toggle="tab" href="#panelHub" role="tab" aria-controls="panelHub" aria-selected="false">Hub</a>
        </li>
        <li class="nav-item">
          <a class="nav-link p-1" id="tabSpokes" data-toggle="tab" href="#panelSpokes" role="tab" aria-controls="panelSpokes" aria-selected="false">Spokes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link p-1" id="tabForces" data-toggle="tab" href="#panelForces" role="tab" aria-controls="panelForces" aria-selected="false">Forces</a>
        </li>
      </ul>

      <div class="tab-content" id="toolsContents">

        <!-- RIM TOOLBAR -->
        <div class="tab-pane fade show active" id="panelRim" role="tabpanel" aria-labelledby="tabRim">

          <form id="formRim">

            <div class="form-group form-group-sm">
              <label for="rimPreset">Choose a pre-defined rim:</label>
              <select class="form-control form-control-sm" name="rimPreset" id="rimPreset">
                <option>Custom</option>
              </select>
            </div>

            <div class="form-group form-group-sm">
              <label for="rimSize">or define a custom rim:</label>
              <select class="form-control form-control-sm" name="rimSize" id="rimSize"></select>
            </div>

            <div class="form-group">
              <div class="btn-group btn-group-toggle btn-group-sm" data-toggle="buttons" id="rimMatl">
                <label class="btn btn-secondary active">
                  <input type="radio" name="rimMatl" value="Alloy" id="rimMatlAlloy" autocomplete="off" checked>Alloy
                </label>
                <label class="btn btn-secondary">
                  <input type="radio" name="rimMatl" value="Steel" id="rimMatlSteel" autocomplete="off">Steel
                </label>
              </div>
            </div>

            <div class="form-group form-group-sm">
              <label for="rimMass">Mass [grams]:&nbsp;</label><span><strong>540</strong></span>
              <input type="range" class="form-control-range custom-range update-range" name="rimMass" id="rimMass" min="10" step="10" max="2000" value="540">

              <label for="rimRadStiff">Radial stiffness [N-m^2]:&nbsp;</label><span><strong>110</strong></span>
              <input type="range" class="form-control-range custom-range update-range" name="rimRadStiff" id="rimRadStiff" min="10" max="1000" step="10" value="110">

              <label for="rimLatStiff">Lateral stiffness [N-m^2]:&nbsp;</label><span><strong>220</strong></span>
              <input type="range" class="form-control-range custom-range update-range" name="rimLatStiff" id="rimLatStiff" min="10" max="500" step="10" value="220">

              <label for="rimTorStiff">Torsional stiffness [N-m<sup>2</sup>]:&nbsp;</label><span><strong>25</strong></span>
              <input type="range" class="form-control-range custom-range update-range" name="rimTorStiff" id="rimTorStiff" min="5" max="200" step="5" value="25">
            </div>

          </form>

        </div>

        <!-- HUB TOOLBAR -->
        <div class="tab-pane fade" id="panelHub" role="tabpanel" aria-labelledby="tabHub">

          <form id="formHub">

            <div class="form-group form-group-sm">
              <label>Rim-to-flange distance [mm]:</label>

              <div class="form-check form-group-sm">
                <input class="form-check-input" type="checkbox" value="" id="hubSymm" checked>
                <label class="form-check-label" for="hubSymm">Symmetric</label>
              </div>

              <div class="form-row">
                <div class="col-6">
                  <span>Left:&nbsp;</span><span id="hubWidthLeft_label"><strong>25</strong></span>
                </div>
                <div class="col-6">
                  <span>Right:&nbsp;</span><span id="hubWidthRight_label"><strong>25</strong></span>
                </div>
              </div>
            </div>

            <div class="form-group form-group-sm form-row">
              <div class="col-6 hub-slider-left">
                <input type="range" class="form-control-range custom-range" name="hubWidthLeft" id="hubWidthLeft" min="-50" max="0" step="1" value="-25">
              </div>
              <div class="col-6 hub-slider-right">
                <input type="range" class="form-control-range custom-range" name="hubWidthRight" id="hubWidthRight" min="0" max="50" step="1" value="25">
              </div>
            </div>

            <div class="form-group form-group-sm">
              <label for="hubDiameter">Flange diameter [mm]:&nbsp;</label><span><strong>50</strong></span>
              <input type="range" class="form-control-range custom-range update-range" name="hubDiameter" id="hubDiameter" min="0" max="100" value="50">
            </div>

          </form>

        </div>

        <!-- SPOKES TOOLBAR -->
        <div class="tab-pane fade" id="panelSpokes" role="tabpanel" aria-labelledby="tabSpokes">

          <div class="form-group form-group-sm">
            <label for="spkNum">Number of spokes:&nbsp;</label><span><strong>36</strong></span>
            <input type="range" class="form-control-range custom-range update-range" name="spkNum" id="spkNum" min="4" max="64" step="2" value="36">
          </div>

          <hr/><strong>Drive-side spokes</strong>

          <form id="formSpokesDS">
            <div class="form-group ">
              <select class="form-control form-control-sm" name="spkPattern" id="spkPatternDS">
                <option>Radial</option>
                <option>1-cross</option>
                <option>2-cross</option>
                <option selected>3-cross</option>
                <option>4-cross</option>
              </select>
            </div>

            <div class="form-group">
              <div class="btn-group btn-group-sm btn-group-toggle" data-toggle="buttons" id="spkMatlDS">
                <label class="btn btn-secondary active">
                  <input type="radio" name="spkMatl" value="Steel" id="spkMatlDSSteel" autocomplete="off" checked>Steel
                </label>
                <label class="btn btn-secondary">
                  <input type="radio" name="spkMatl" value="Alloy" id="spkMatlDSAlloy" autocomplete="off">Alloy
                </label>
                <label class="btn btn-secondary">
                  <input type="radio" name="spkMatl" value="Titanium" id="spkMatlDSTi" autocomplete="off">Titanium
                </label>
              </div>
            </div>

            <div class="form-group form-group-sm">
              <label for="spkDiamDS">Diameter [mm]:&nbsp;</label><span><strong>2</strong></span>
              <input type="range" class="form-control-range custom-range update-range" name="spkDiam" id="spkDiamDS" min="0.1", max="3" step="0.1" value="2">

              <label for="spkTensDS">Tension [kgf]:&nbsp;</label><span><strong>80</strong></span>
              <input type="range" class="form-control-range custom-range update-range" name="spkTens" id="spkTensDS" min="0" max="200" step="5" value="80">
            </div>
          </form>

          <hr/><strong>Non-drive-side spokes</strong>

          <div class="form-check form-group-sm">
            <input class="form-check-input" type="checkbox" value="" id="spkNDSSame" checked>
            <label class="form-check-label" for="spkNDSSame">Same as drive-side</label>
          </div>

          <div class="collapse" id="spkNDSPanel">

            <form id="formSpokesNDS">
              <div class="form-group">
                <select class="form-control form-control-sm" name="spkPattern" id="spkPattern">
                  <option>Radial</option>
                  <option>1-cross</option>
                  <option>2-cross</option>
                  <option selected>3-cross</option>
                  <option>4-cross</option>
                </select>
              </div>

              <div class="form-group">
                <div class="btn-group btn-group-toggle btn-group-sm" data-toggle="buttons" id="spkMatlNDS">
                  <label class="btn btn-secondary active">
                    <input type="radio" name="spkMatl" value="Steel" id="spkMatlNDSSteel" autocomplete="off" checked>Steel
                  </label>
                  <label class="btn btn-secondary">
                    <input type="radio" name="spkMatl" value="Alloy" id="spkMatlNDSAlloy" autocomplete="off">Alloy
                  </label>
                  <label class="btn btn-secondary">
                    <input type="radio" name="spkMatl" value="Titanium" id="spkMatlNDSTi" autocomplete="off">Titanium
                  </label>
                </div>
              </div>

              <div class="form-group form-group-sm">
                <label for="spkDiamNDS">Diameter [mm]&nbsp;</label><span><strong>2</strong></span>
                <input type="range" class="form-control-range custom-range update-range" name="spkDiam" id="spkDiamNDS" min="0.1", max="3" step="0.1" value="2">

                <label for="spkTensNDS">Tension [kgf]:&nbsp;</label><span><strong>80</strong></span>
                <input type="range" class="form-control-range custom-range update-range" name="spkTens" id="spkTensNDS" min="0" max="200" step="5" value="80">
              </div>
            </form>

          </div>

        </div>

        <!-- FORCES TOOLBAR -->
        <div class="tab-pane fade show" id="panelForces" role="tabpanel" aria-labelledby="tabForces">

          <table class="table table-striped table-hover table-sm" id="tableForces">
            <tr><th>Type</th><th>Location [deg]</th><th>Magnitude [kgf]</th><th></th></tr>
            <tr><th>Radial</th><td>0</td><td>50</td><th><a class="remove-row" href="#"><i class="fas fa-trash-alt"></i></a></th></tr>
          </table>

          <div class="form-group">
            <button type="button" class="btn btn-sm add-force">Radial</button>
            <button type="button" class="btn btn-sm add-force">Lateral</button>
            <button type="button" class="btn btn-sm add-force">Tangential</button>
          </div>
        </div>

        <div class="form-group">
          <button type="button" id="btnPressMe" class="btn btn-success btn-block">Calculate</button>
        </div>

      </div>

    </div>
    <div class="col-md-8">

      <!-- Results navigation tabs -->
      <ul class="nav nav-tabs" id="resultsTab" role="tablist">
        <li class="nav-item">
          <a class="nav-link p-1 active" id="plots-tab" data-toggle="tab" href="#plots" role="tab" aria-controls="plots" aria-selected="true">Spoke tensions</a>
        </li>
        <li class="nav-item">
          <a class="nav-link p-1" id="results-tab" data-toggle="tab" href="#results" role="tab" aria-controls="results" aria-selected="false">Summary</a>
        </li>
      </ul>

      <div class="tab-content" id="resultsContents">

        <!-- Results: Plots -->
        <div class="tab-pane fade show active" id="plots" role="tabpanel" aria-labelledby="plots-tab">
          <div id="tension-plot" border: 1px solid black;"></div>
        </div>

        <!-- Results: Summary -->
        <div class="tab-pane fade" id="results" role="tabpanel" aria-labelledby="results-tab">Summary results</div>
      </div>
    </div>

  </div>
</div>


<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<script src="mindmup-editabletable.js"></script>

<script src="wheel-app.js"></script>

</body>
</html>